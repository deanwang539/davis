<!-- formula -->
{% macro formula(str) -%}
{% set name, qid = str.split(',') %}
{% set qid = qid|int %}
  <div class="form-group det-card formula-card">
    <div class="formula-title">{{ name }}</div>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid }}-1" name="{{ qid }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select class="custom-select types-select" id="{{ qid }}-2" name="{{ qid }}-2">
        <option value='null'>- Unit Type -</option>
      </select>
      <select class="custom-select units-select select-disabled" id="{{ qid }}-3" name="{{ qid }}-3" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
    <select class="formula-opt" id="{{ qid+1 }}-1" name="{{ qid+1 }}-1">
      <option value="add">+</option>
      <option value="minus">-</option>
      <option value="multiply">*</option>
      <option value="divide">/</option>
    </select>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid+2 }}-1" name="{{ qid+2 }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select class="custom-select types-select" id="{{ qid+2 }}-2" name="{{ qid+2 }}-2">
        <option value='null'>- Unit Type -</option>
      </select>
      <select class="custom-select units-select select-disabled" id="{{ qid+2 }}-3" name="{{ qid+2 }}-3" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
    <div class="formula-equal text-center">=</div>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid+3 }}-1" name="{{ qid+3 }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select class="custom-select types-select" id="{{ qid+3 }}-2" name="{{ qid+3 }}-2">
        <option value='null'>- Unit Type -</option>
      </select>
      <select class="custom-select units-select select-disabled" id="{{ qid+3 }}-3" name="{{ qid+3 }}-3" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
  </div>
{%- endmacro %}

{% macro formula_fraction(str) -%}
{% set name, qid = str.split(',') %}
{% set qid = qid|int %}
  <div class="form-group postlab-sub-card formula-card">
    <div class="formula-title trial-num">{{ name }}:</div>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid }}-1" name="{{ qid }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select  id="{{ qid }}-2" name="{{ qid }}-2" class="custom-select types-select">
        <option value='null'>- Unit Type -</option>
      </select>
      <select id="{{ qid }}-3" name="{{ qid }}-3" class="custom-select units-select select-disabled" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
    <div class="formula-equal text-center">X</div>
    <!-- fraction -->
    <table class="formula-divide">
      <tr>
        <td>
          <div class="formula-input">
            <input class="form-control" type="number" id="{{ qid+1 }}-1" name="{{ qid+1 }}-1" placeholder="Answer">
          </div>
          <div class="formula-unit">
            <select id="{{ qid+1 }}-2" name="{{ qid+1 }}-2" class="custom-select types-select">
              <option value='null'>- Unit Type -</option>
            </select>
            <select id="{{ qid+1 }}-3" name="{{ qid+1 }}-3" class="custom-select units-select select-disabled" disabled>
              <option value='null'>- Unit -</option>
            </select>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <hr class="divider">
        </td>
      </tr>
      <tr>
        <td>
          <div class="formula-input">
            <input class="form-control" type="number" id="{{ qid+2 }}-1" name="{{ qid+2 }}-1" placeholder="Answer">
          </div>
          <div class="formula-unit">
            <select id="{{ qid+2 }}-2" name="{{ qid+2 }}-2" class="custom-select types-select">
              <option value='null'>- Unit Type -</option>
            </select>
            <select id="{{ qid+2 }}-3" name="{{ qid+2 }}-3" class="custom-select units-select select-disabled" disabled>
              <option value='null'>- Unit -</option>
            </select>
          </div>
        </td>
      </tr>
    </table>
    <!-- end fraction -->
    <div class="formula-equal text-center">=</div>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid+3 }}-1" name="{{ qid+3 }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select id="{{ qid+3 }}-2" name="{{ qid+3 }}-2" class="custom-select types-select">
        <option value='null'>- Unit Type -</option>
      </select>
      <select id="{{ qid+3 }}-3" name="{{ qid+3 }}-3" class="custom-select units-select select-disabled" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
  </div>
{%- endmacro %}

{% macro formula_line(str) -%}
{% set name, qid = str.split(',') %}
{% set qid = qid|int %}
  <div class="form-group postlab-sub-card formula-card" style="margin-bottom: 5em;">
    <div class="formula-title trial-num">{{ name }}:</div>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid }}-1" name="{{ qid }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select id="{{ qid }}-2" name="{{ qid }}-2" class="custom-select types-select">
        <option value='null'>- Unit Type -</option>
      </select>
      <select id="{{ qid }}-3" name="{{ qid }}-3" class="custom-select units-select select-disabled" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
    <select id="{{ qid+1 }}-1" name="{{ qid+1 }}-1" class="formula-opt postlab-opt">
      <option value="add">+</option>
      <option value="minus">-</option>
      <option value="multiply">*</option>
      <option value="divide">/</option>
    </select>
    <!-- no fraction -->
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid+2 }}-1" name="{{ qid+2 }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select id="{{ qid+2 }}-2" name="{{ qid+2 }}-2" class="custom-select types-select">
        <option value='null'>- Unit Type -</option>
      </select>
      <select id="{{ qid+2 }}-3" name="{{ qid+2 }}-3" class="custom-select units-select select-disabled" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
    <!-- end no fraction -->
    <div class="formula-equal text-center">=</div>
    <div class="formula-input">
      <input class="form-control" type="number" id="{{ qid+3 }}-1" name="{{ qid+3 }}-1" placeholder="Answer">
    </div>
    <div class="formula-unit">
      <select id="{{ qid+3 }}-2" name="{{ qid+3 }}-2" class="custom-select types-select">
        <option value='null'>- Unit Type -</option>
      </select>
      <select id="{{ qid+3 }}-3" name="{{ qid+3 }}-3" class="custom-select units-select select-disabled" disabled>
        <option value='null'>- Unit -</option>
      </select>
    </div>
  </div>
{%- endmacro %}
